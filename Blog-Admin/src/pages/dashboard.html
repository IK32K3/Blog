<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Blog Admin</title>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <!-- Use CDN links for reliable loading on GitHub Pages -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <!-- Custom CSS with relative path -->
  <link href="../assets/css/style.css" rel="stylesheet">
</head>
<body>
  <!-- Header -->
  <div data-inject="../components/header.html"></div>

  <!-- Sidebar -->
  <div data-inject="../components/sidebar.html"></div>
  <div class="sidebar-overlay"></div>
  
  <!-- Main Content -->
  <main id="main" class="main">
    <div class="pagetitle">
      <h1>Dashboard</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="../../index.html">Home</a></li>
          <li class="breadcrumb-item active">Dashboard</li>
        </ol>
      </nav>
    </div>

    <section class="section dashboard">
      <div class="row">
        <!-- Left side columns -->
        <div class="col-lg-8">
          <div class="row">
            <!-- Posts Card -->
            <div class="col-xxl-6 col-md-6">
              <div class="card info-card">
                <div class="card-body">
                  <h5 class="card-title">Posts</h5>
                  <div class="d-flex align-items-center">
                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                      <i class="bi bi-file-earmark-text"></i>
                    </div>
                    <div class="ps-3">
                      <h6 class="dashboard-card-count">145</h6>
                      <span class="text-success small pt-1 fw-bold">12%</span> 
                      <span class="text-muted small pt-2 ps-1">increase</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Users Card -->
            <div class="col-xxl-6 col-md-6">
              <div class="card info-card">
                <div class="card-body">
                  <h5 class="card-title">Users</h5>
                  <div class="d-flex align-items-center">
                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                      <i class="bi bi-people"></i>
                    </div>
                    <div class="ps-3">
                      <h6 class="dashboard-card-count">64</h6>
                      <span class="text-success small pt-1 fw-bold">5%</span> 
                      <span class="text-muted small pt-2 ps-1">increase</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Recent Posts -->
            <div class="col-12">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Recent Posts</h5>
                  <div class="table-responsive">
                    <table class="table table-striped">
                      <thead>
                        <tr>
                          <th scope="col">#</th>
                          <th scope="col">Title</th>
                          <th scope="col">Category</th>
                          <th scope="col">Author</th>
                          <th scope="col">Date</th>
                          <th scope="col">Status</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <th scope="row">1</th>
                          <td>10 Tips for Better SEO</td>
                          <td>Technology</td>
                          <td>John Doe</td>
                          <td>2023-11-01</td>
                          <td><span class="badge bg-success">Published</span></td>
                        </tr>
                        <tr>
                          <th scope="row">2</th>
                          <td>Getting Started with Bootstrap</td>
                          <td>Technology</td>
                          <td>Jane Smith</td>
                          <td>2023-10-30</td>
                          <td><span class="badge bg-success">Published</span></td>
                        </tr>
                        <tr>
                          <th scope="row">3</th>
                          <td>Healthy Breakfast Ideas</td>
                          <td>Food</td>
                          <td>Mike Johnson</td>
                          <td>2023-10-28</td>
                          <td><span class="badge bg-success">Published</span></td>
                        </tr>
                        <tr>
                          <th scope="row">4</th>
                          <td>Top Travel Destinations 2023</td>
                          <td>Travel</td>
                          <td>Sarah Williams</td>
                          <td>2023-10-25</td>
                          <td><span class="badge bg-success">Published</span></td>
                        </tr>
                        <tr>
                          <th scope="row">5</th>
                          <td>Ultimate Guide to Remote Work</td>
                          <td>Lifestyle</td>
                          <td>John Doe</td>
                          <td>2023-10-23</td>
                          <td><span class="badge bg-warning text-dark">Draft</span></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>

            <!-- Recent Activity -->
            <div class="col-12">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Recent Activity</h5>
                  <div class="activity">
                    <div class="activity-item d-flex">
                      <div class="activite-label">32 min</div>
                      <i class="bi bi-circle-fill activity-badge text-success align-self-start"></i>
                      <div class="activity-content">
                        <strong>Lisa Warren</strong> published a new post <a href="#" class="fw-bold text-dark">Getting Started with Bootstrap</a>
                      </div>
                    </div>

                    <div class="activity-item d-flex">
                      <div class="activite-label">56 min</div>
                      <i class="bi bi-circle-fill activity-badge text-success align-self-start"></i>
                      <div class="activity-content">
                        <strong>Robert Davis</strong> edited <a href="#" class="fw-bold text-dark">10 Tips for Better SEO</a>
                      </div>
                    </div>

                    <div class="activity-item d-flex">
                      <div class="activite-label">2 hrs</div>
                      <i class="bi bi-circle-fill activity-badge text-success align-self-start"></i>
                      <div class="activity-content">
                        <strong>Emily Johnson</strong> translated <a href="#" class="fw-bold text-dark">Healthy Breakfast Ideas</a> to French
                      </div>
                    </div>

                    <div class="activity-item d-flex">
                      <div class="activite-label">1 day</div>
                      <i class="bi bi-circle-fill activity-badge text-success align-self-start"></i>
                      <div class="activity-content">
                        <strong>Daniel Brown</strong> updated category <a href="#" class="fw-bold text-dark">Travel</a>
                      </div>
                    </div>

                    <div class="activity-item d-flex">
                      <div class="activite-label">2 days</div>
                      <i class="bi bi-circle-fill activity-badge text-success align-self-start"></i>
                      <div class="activity-content">
                        <strong>Alex Turner</strong> created a new language <a href="#" class="fw-bold text-dark">Portuguese</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Right side columns -->
        <div class="col-lg-4">
          <!-- Posts per month Chart -->
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Posts per Month</h5>
              <div>
                <canvas id="postsChart"></canvas>
              </div>
            </div>
          </div>

          <!-- Category Distribution Chart -->
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Category Distribution</h5>
              <div>
                <canvas id="categoryChart"></canvas>
              </div>
            </div>
          </div>

          <!-- Top Authors -->
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Top Authors</h5>
              <ul class="list-group">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  John Doe
                  <span class="badge bg-primary rounded-pill">42</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  Jane Smith
                  <span class="badge bg-primary rounded-pill">34</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  Mike Johnson
                  <span class="badge bg-primary rounded-pill">27</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  Sarah Williams
                  <span class="badge bg-primary rounded-pill">22</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  Robert Davis
                  <span class="badge bg-primary rounded-pill">19</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <div data-inject="../components/footer.html"></div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
  <script>
    // Component loader - simplified version for GitHub Pages
    document.addEventListener('DOMContentLoaded', () => {
      // Load components
      const components = document.querySelectorAll('[data-inject]');
      
      components.forEach(component => {
        let path = component.getAttribute('data-inject');
        
        fetch(path)
          .then(response => response.text())
          .then(html => {
            component.innerHTML = html;
          })
          .catch(error => {
            console.error('Error loading component:', path, error);
            component.innerHTML = `<div class="alert alert-danger">Failed to load component: ${path}</div>`;
          });
      });

      // Initialize charts
      initializeCharts();
    });

    function initializeCharts() {
      const postsChartCanvas = document.getElementById('postsChart');
      if (postsChartCanvas) {
        const postsChart = new Chart(postsChartCanvas, {
          type: 'line',
          data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
            datasets: [{
              label: 'Posts',
              data: [65, 59, 80, 81, 56, 55, 40, 47, 52, 58, 62, 68],
              fill: false,
              borderColor: '#4154f1',
              tension: 0.1
            }]
          },
          options: {
            scales: {
              y: {
                beginAtZero: true
              }
            }
          }
        });
      }

      const categoryChartCanvas = document.getElementById('categoryChart');
      if (categoryChartCanvas) {
        const categoryChart = new Chart(categoryChartCanvas, {
          type: 'doughnut',
          data: {
            labels: ['Technology', 'Travel', 'Food', 'Health', 'Others'],
            datasets: [{
              data: [35, 25, 20, 15, 5],
              backgroundColor: [
                '#4154f1',
                '#2eca6a',
                '#ff771d',
                '#ffbf00',
                '#999999'
              ],
              hoverOffset: 4
            }]
          }
        });
      }
    }
  </script>
</body>
</html>